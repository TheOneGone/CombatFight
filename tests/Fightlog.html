
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Fightlog_test</title>
<script src="components\Fightlog\Fightlog.js"></script>
<script>
        strstr = `{
        "id": "j582tS",
        "status": "progress",
        "turn_status": true,
        "results": [ [] ],
        "you": {
            "id": "WOBqSz",
            "username": "admin",
            "last_active": 1526211881735,
            "health": 20
        },
        "enemy": {
            "id": "yS8aUb",
            "username": "dusty",
            "last_active": 1526212240325,
            "health": 28
        }
    }`;

    
    result = JSON.parse(strstr);



    let ans = new Fightlog(strstr);
    alert(ans.sendmsg());

    strstr = `{
        "id": "j582tS",
        "status": "progress",
        "turn_status": true,
        "results": [ 
            [
            {
                "origin": {
                    "id": "yS8aUb",
                    "username": "dusty",
                    "last_active": 1526213697299
                },
                "target": {
                    "id": "WOBqSz",
                    "username": "admin",
                    "last_active": 1526213764075
                },
                "hit": 1,
                "blocked": false
            },
            {
                "origin": {
                    "id": "WOBqSz",
                    "username": "admin",
                    "last_active": 1526213764075
                },
                "target": {
                    "id": "yS8aUb",
                    "username": "dusty",
                    "last_active": 1526213697299
                },
                "hit": 4,
                "blocked": false
            }
            ] 
        ],
        "you": {
            "id": "WOBqSz",
            "username": "admin",
            "last_active": 1526211881735,
            "health": 20
        },
        "enemy": {
            "id": "yS8aUb",
            "username": "dusty",
            "last_active": 1526212240325,
            "health": 28
        }
    }`;

    
    result = JSON.parse(strstr);



    ans = new Fightlog(strstr);
    alert(ans.sendmsg());

   strstr = `{
    "id": "j582tS",
    "status": "progress",
    "turn_status": true,
    "results": [
        [
            {
                "origin": {
                    "id": "yS8aUb",
                    "username": "dusty",
                    "last_active": 1526212321426
                },
                "target": {
                    "id": "WOBqSz",
                    "username": "admin",
                    "last_active": 1526213320805
                },
                "hit": 1,
                "blocked": false
            },
            {
                "origin": {
                    "id": "yS8aUb",
                    "username": "dusty",
                    "last_active": 1526213638265
                },
                "target": {
                    "id": "WOBqSz",
                    "username": "admin",
                    "last_active": 1526213592196
                },
                "hit": 1,
                "blocked": false
            }
        ],
        [
            {
                "origin": {
                    "id": "WOBqSz",
                    "username": "admin",
                    "last_active": 1526213592196
                },
                "target": {
                    "id": "yS8aUb",
                    "username": "dusty",
                    "last_active": 1526213638265
                },
                "hit": 2,
                "blocked": true
            },
            {
                "origin": {
                    "id": "yS8aUb",
                    "username": "dusty",
                    "last_active": 1526213638265
                },
                "target": {
                    "id": "WOBqSz",
                    "username": "admin",
                    "last_active": 1526213592196
                },
                "hit": 1,
                "blocked": false
            }
        ],
        [
            {
                "origin": {
                    "id": "yS8aUb",
                    "username": "dusty",
                    "last_active": 1526213697299
                },
                "target": {
                    "id": "WOBqSz",
                    "username": "admin",
                    "last_active": 1526213764075
                },
                "hit": 1,
                "blocked": false
            },
            {
                "origin": {
                    "id": "WOBqSz",
                    "username": "admin",
                    "last_active": 1526213764075
                },
                "target": {
                    "id": "yS8aUb",
                    "username": "dusty",
                    "last_active": 1526213697299
                },
                "hit": 4,
                "blocked": false
            }
        ]
    ],
    "you": {
        "id": "WOBqSz",
        "username": "admin",
        "last_active": 1526211881735,
        "health": 20
    },
    "enemy": {
        "id": "yS8aUb",
        "username": "dusty",
        "last_active": 1526212240325,
        "health": 28
    }
}`;

    
    result = JSON.parse(strstr);



    ans = new Fightlog(strstr);
    alert(ans.sendmsg());

    console.log(ans.pril_o);
    console.log(ans.pril_t);
    console.log(ans.tagarr[0]);
    console.log(ans.tagarr[0].orig);
</script>

</head>
<body>
</body>
</html>

